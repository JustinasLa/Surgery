# Surgery Plugin Configuration
# This file contains all gameplay settings and mechanics

# Maximum distance in blocks between surgeon and patient to perform surgery
max-surgery-distance: 5.0

# ============================================
# DIAGNOSES
# ============================================

# List of possible diagnoses/injuries
# These are randomly assigned when the ultrasound is used
diagnoses:
  - "Torn Tongue Muscle"
  - "Paper Cuts"
  - "Grumbleteeth"
  - "Chicken Feet"
  - "Broken Heart"
  - "Brain Eating Amoeba"
  - "Ecto-Bones"
  - "Moldy Guts"
  - "Fatty Liver"
  - "Arcane Infection"
  - "Lupus"
  - "Broken Arm"
  - "Broken Leg"
  - "Bird Flu"
  - "Turtle Flu"
  - "Monkey Flu"
  - "Lung Tumor"
  - "Brain Tumor"
  - "Liver Infection"
  - "Kidney Failure"
  - "Appendicitis"
  - "Nose Job"
  - "Herniated Disc"
  - "Heart Attack"
  - "Swallowed Ingot"
  - "Broken Everything"
  - "Serious Head Injury"
  - "Serious Trauma"
  - "Massive Trauma"

# Diagnoses that are flu types (require temperature at 98.6°F to use surgical glove)
flu-diagnoses:
  - "Bird Flu"
  - "Turtle Flu"
  - "Monkey Flu"

# Required incisions for each diagnosis to unlock the surgical glove and "Fix" the patient
required-incisions:
  "Nose Job": 1
  "Lung Tumor": 1
  "Heart Attack": 2
  "Brain Tumor": 5
  "Liver Infection": 2
  "Kidney Failure": 2
  "Appendicitis": 3
  "Swallowed Ingot": 2
  "Herniated Disc": 3
  "Serious Head Injury": 4
  "Serious Trauma": 2
  "Massive Trauma": 3
  "Torn Tongue Muscle": 1
  "Paper Cuts": 2
  "Grumbleteeth": 1
  "Chicken Feet": 1
  "Broken Heart": 1
  "Brain Eating Amoeba": 5
  "Ecto-Bones": 1
  "Moldy Guts": 2
  "Fatty Liver": 3
  "Arcane Infection": 3
  "Lupus": 3
  "Broken Arm": 2
  "Broken Leg": 2
  "Broken Everything": 4

# ============================================
# BONE COUNTS
# ============================================

# Number of broken and shattered bones for bone-related diagnoses
bone-counts:
  "Broken Arm":
    broken: 2
    shattered: 0
  "Broken Leg":
    broken: 2
    shattered: 1
  "Ecto-Bones":
    broken: 1
    shattered: 2
  "Broken Everything":
    broken: 3
    shattered: 2

# ============================================
# SKILL FAIL CHANCES
# ============================================

skill-fail:
  base-chance: 0.25                      # Base skill fail chance (0.0 = 0%, 1.0 = 100%)
  bleeding-chance: 0.40                  # Skill fail chance when patient is bleeding
  with-sponge-chance: 0.10               # Skill fail chance when sponge effect is active (reduced)

# ============================================
# TEMPERATURE SETTINGS
# ============================================

temperature:
  normal: 98.6                           # Normal starting temperature
  rising-temp-min: 98.6                  # Min for rising temp patients
  rising-temp-max: 104.0                 # Max for rising temp patients
  instant-death-threshold: 110.0         # Instant death above this
  red-temp-threshold: 106.0              # Red temp danger zone
  success-threshold: 100.0               # Must be <= this to succeed
  rise-rate: 1.8                         # Temp increase per move
  antibiotics-change: 5.4                # ±F from antibiotics

# ============================================
# PULSE SETTINGS
# ============================================

pulse:
  degradation-chance-bleeding: 0.30      # 30% chance to degrade when bleeding
  scalpel-decrease-chance: 0.50          # 50% chance scalpel decreases pulse

# ============================================
# DEATH TIMERS
# ============================================

death-timers:
  defibrillator-countdown: 2             # Moves until death after heart stops
  weak-pulse-turns: 2                    # Consecutive turns with Extremely Weak pulse
  red-temp-turns: 2                      # Consecutive turns with red temperature
  anesthetic-reuse-cooldown: 4           # Moves before anesthetic can be reused

# ============================================
# BONE MECHANICS
# ============================================

bones:
  # Chance to randomly reveal a bone with each scalpel use for non-bone diagnoses
  random-reveal-chance: 0.25

# ============================================
# DIAGNOSIS-SPECIFIC MECHANICS
# ============================================

diagnosis-mechanics:
  moldy-guts:
    bleeding-interval-min: 3             # Forces bleeding every 3-4 moves
    bleeding-interval-max: 4
  
  fatty-liver:
    heart-stop-chance: 0.20              # 20% chance heart stops when unconscious
  
  broken-heart:
    heart-stop-chance: 0.35              # 35% chance heart stops when unconscious
  
  arcane-infection:
    chaos-chance: 0.25                   # 25% chance for chaos each move
    temp-spike-max: 4.0                  # Random temp spike up to +4°F
    temp-drop-max: 2.0                   # Random temp drop up to -2°F
  
  lupus:
    howl-chance: 0.15                    # 15% chance for howl effect
  
  paper-cuts:
    scalpel-uses-required: 2             # Scalpel uses to examine wounds

# ============================================
# COMMANDS
# ============================================

# Commands to execute on surgery completion
# Use %surgeon% for the surgeon's name and %player% for the patient's name
# These are executed by the console
commands:
  surgery-success: "sudo %surgeon% me Successfully treated %player%!"
  surgery-failure: "sudo %surgeon% me Failed surgery on %player%!"
